


ARM Macro Assembler    Page 1 


    1 00000000         ;/******************************************************
                       ***********************/
    2 00000000         ;/* STR91x.S: Startup file for ST STR91x device series  
                                             */
    3 00000000         ;/******************************************************
                       ***********************/
    4 00000000         ;/* <<< Use Configuration Wizard in Context Menu >>>    
                                             */
    5 00000000         ;/******************************************************
                       ***********************/
    6 00000000         ;/* This file is part of the uVision/ARM development too
                       ls.                   */
    7 00000000         ;/* Copyright (c) 2005-2006 Keil Software. All rights re
                       served.               */
    8 00000000         ;/* This software may only be used under the terms of a 
                       valid, current,       */
    9 00000000         ;/* end user licence from KEIL for a compatible version 
                       of KEIL software      */
   10 00000000         ;/* development tools. Nothing else gives you the right 
                       to use this software. */
   11 00000000         ;/******************************************************
                       ***********************/
   12 00000000         
   13 00000000         
   14 00000000         ;/*
   15 00000000         ; *  The STR91x.S code is executed after CPU Reset. This
                        file may be
   16 00000000         ; *  translated with the following SET symbols. In uVisi
                       on these SET
   17 00000000         ; *  symbols are entered under Options - ASM - Define.
   18 00000000         ; *
   19 00000000         ; *  Startup code always boots from Flash address 0x0000
                       0000
   20 00000000         ; */
   21 00000000         
   22 00000000         
   23 00000000         ; Standard definitions of Mode bits and Interrupt (I & F
                       ) flags in PSRs
   24 00000000         
   25 00000000 00000010 
                       Mode_USR
                               EQU              0x10
   26 00000000 00000011 
                       Mode_FIQ
                               EQU              0x11
   27 00000000 00000012 
                       Mode_IRQ
                               EQU              0x12
   28 00000000 00000013 
                       Mode_SVC
                               EQU              0x13
   29 00000000 00000017 
                       Mode_ABT
                               EQU              0x17
   30 00000000 0000001B 
                       Mode_UND
                               EQU              0x1B
   31 00000000 0000001F 
                       Mode_SYS



ARM Macro Assembler    Page 2 


                               EQU              0x1F
   32 00000000         
   33 00000000 00000080 
                       I_Bit   EQU              0x80        ; when I bit is set
                                                            , IRQ is disabled
   34 00000000 00000040 
                       F_Bit   EQU              0x40        ; when F bit is set
                                                            , FIQ is disabled
   35 00000000         
   36 00000000         
   37 00000000         ;// <h> Stack Configuration (Stack Sizes in Bytes)
   38 00000000         ;//   <o0> Undefined Mode      <0x0-0xFFFFFFFF:8>
   39 00000000         ;//   <o1> Supervisor Mode     <0x0-0xFFFFFFFF:8>
   40 00000000         ;//   <o2> Abort Mode          <0x0-0xFFFFFFFF:8>
   41 00000000         ;//   <o3> Fast Interrupt Mode <0x0-0xFFFFFFFF:8>
   42 00000000         ;//   <o4> Interrupt Mode      <0x0-0xFFFFFFFF:8>
   43 00000000         ;//   <o5> User/System Mode    <0x0-0xFFFFFFFF:8>
   44 00000000         ;// </h>
   45 00000000         
   46 00000000 00000000 
                       UND_Stack_Size
                               EQU              0x00000000
   47 00000000 00000008 
                       SVC_Stack_Size
                               EQU              0x00000008
   48 00000000 00000000 
                       ABT_Stack_Size
                               EQU              0x00000000
   49 00000000 00000000 
                       FIQ_Stack_Size
                               EQU              0x00000000
   50 00000000 00000100 
                       IRQ_Stack_Size
                               EQU              0x00000100
   51 00000000 00000400 
                       USR_Stack_Size
                               EQU              0x00000400
   52 00000000         
   54 00000000 00000508 
                       Stack_Size
                               EQU              (UND_Stack_Size + SVC_Stack_Siz
e + ABT_Stack_Size +                           FIQ_Stack_Size + IRQ_Stack_Size
 + USR_Stack_Size)
   55 00000000         
   56 00000000                 AREA             STACK, NOINIT, READWRITE, ALIGN
=3
   57 00000000         Stack_Mem
                               SPACE            Stack_Size
   58 00000508         
   59 00000508 00000508 
                       Stack_Top
                               EQU              Stack_Mem + Stack_Size
   60 00000508         
   61 00000508         
   62 00000508         ;// <h> Heap Configuration
   63 00000508         ;//   <o>  Heap Size (in Bytes) <0x0-0xFFFFFFFF>
   64 00000508         ;// </h>
   65 00000508         
   66 00000508 00000000 



ARM Macro Assembler    Page 3 


                       Heap_Size
                               EQU              0x00000000
   67 00000508         
   68 00000508                 AREA             HEAP, NOINIT, READWRITE, ALIGN=
3
   69 00000000         Heap_Mem
                               SPACE            Heap_Size
   70 00000000         
   71 00000000         
   72 00000000         ;// <e0> System Configuration
   73 00000000         ;//   <h> System Configuration (SCU_SCR0)
   74 00000000         ;//     <o1.3..4> SRAM_SIZE: SRAM Size
   75 00000000         ;//       <i> Default: 32KB
   76 00000000         ;//                     <0=> 32KB
   77 00000000         ;//                     <1=> 64KB
   78 00000000         ;//                     <2=> 96KB
   79 00000000         ;//     <o1.0> EN_PFQBC: PFQBC Unit Enable
   80 00000000         ;//     <o1.1> DTCM wait-state Enable
   81 00000000         ;//     <o1.2> AHB wait-state Enable
   82 00000000         ;//   </h>
   83 00000000         ;// </e0>
   84 00000000         
   85 00000000         
   86 00000000         
   87 00000000 00000001 
                       SCR0_SETUP
                               EQU              1
   88 00000000 00000191 
                       SCU_SCR0_Val
                               EQU              0x00000191
   89 00000000         
   90 00000000         
   91 00000000         ; Flash Memory Interface (FMI) definitions (Flash banks 
                       sizes and addresses)
   92 00000000 54000000 
                       FMI_BASE
                               EQU              0x54000000  ; FMI Base Address 
                                                            (non-buffered)
   93 00000000 00000000 
                       FMI_BBSR_OFS
                               EQU              0x00        ; Boot Bank Size Re
                                                            gister
   94 00000000 00000004 
                       FMI_NBBSR_OFS
                               EQU              0x04        ; Non-boot Bank Siz
                                                            e Register
   95 00000000 0000000C 
                       FMI_BBADR_OFS
                               EQU              0x0C        ; Boot Bank Base Ad
                                                            dress Register
   96 00000000 00000010 
                       FMI_NBBADR_OFS
                               EQU              0x10        ; Non-boot Bank Bas
                                                            e Address Register
   97 00000000 00000018 
                       FMI_CR_OFS
                               EQU              0x18        ; Control Register
   98 00000000         
   99 00000000         ;// <e0> Flash Memory Interface (FMI)



ARM Macro Assembler    Page 4 


  100 00000000         ;//   <e1.3> Flash Bank 0 Enable
  101 00000000         ;//   <h> Boot Bank Size Configuration (BBSR)
  102 00000000         ;//     <o2.0..3>  BBSIZE: Memory size 
  103 00000000         ;//       <i> Default 32KB
  104 00000000         ;//                     <0=>   32KB
  105 00000000         ;//                     <1=>   64KB
  106 00000000         ;//                     <2=>  128KB
  107 00000000         ;//                     <3=>  256KB
  108 00000000         ;//                     <4=>  512KB
  109 00000000         ;//                     <5=>    1MB
  110 00000000         ;//                     <6=>    2MB
  111 00000000         ;//                     <7=>    4MB
  112 00000000         ;//                     <8=>    8MB
  113 00000000         ;//                     <9=>   16MB
  114 00000000         ;//                     <10=>  32MB
  115 00000000         ;//                     <11=>  64MB
  116 00000000         ;//   </h>
  117 00000000         ;//   <h> Boot Bank Base Address Configuration (BBADR)
  118 00000000         ;//     <o3.0..23> BBADDR: Address <0x0-0xFFFFFF>
  119 00000000         ;//       <i> Default: 0x000000
  120 00000000         ;//   </h>
  121 00000000         ;//   </e>
  122 00000000         ;//   <e1.4> Flash Bank 1 Enable
  123 00000000         ;//   <h> Non-boot Bank Size Configuration (NBBSR)
  124 00000000         ;//     <o4.0..3>  NBBSIZE: Memory size 
  125 00000000         ;//       <i> Default 8KB
  126 00000000         ;//                     <0=>    8KB
  127 00000000         ;//                     <1=>   16KB
  128 00000000         ;//                     <2=>   32KB
  129 00000000         ;//                     <3=>   64KB
  130 00000000         ;//                     <4=>  128KB
  131 00000000         ;//                     <5=>  256KB
  132 00000000         ;//                     <6=>  512KB
  133 00000000         ;//                     <7=>    1MB
  134 00000000         ;//                     <8=>    2MB
  135 00000000         ;//                     <9=>    4MB
  136 00000000         ;//                     <10=>   8MB
  137 00000000         ;//                     <11=>  16MB
  138 00000000         ;//                     <12=>  32MB
  139 00000000         ;//                     <13=>  64MB
  140 00000000         ;//   </h>
  141 00000000         ;//   <h> Boot Bank Base Address Configuration (NBBADR)
  142 00000000         ;//     <o5.0..23> NBBADDR: Address <0x0-0xFFFFFF>
  143 00000000         ;//       <i> Default: 0x000000
  144 00000000         ;//   </h>
  145 00000000         ;//   </e>
  146 00000000         ;//   <o6.11..12> WSTATES: Wait states
  147 00000000         ;//     <i> 1 wait state is required for FMI bus clock f
                       requency of < 66 MHz
  148 00000000         ;//     <i> 2 wait states are required for FMI bus clock
                        frequency of 75 MHz
  149 00000000         ;//     <i> 3 wait states are required for maximum FMI b
                       us clock frequency
  150 00000000         ;//     <i> Default: 1 Wait state
  151 00000000         ;//                     <0=> 1 Wait state 
  152 00000000         ;//                     <1=> 2 Wait states
  153 00000000         ;//                     <2=> 3 Wait states
  154 00000000         ;//   <o6.10> PWD: Power-down configuration    
  155 00000000         ;//     <i> Default: Enabled 



ARM Macro Assembler    Page 5 


  156 00000000         ;//                     <0=> Disabled  
  157 00000000         ;//                     <1=> Enabled
  158 00000000         ;//   <o6.9> LVDEN: Low Voltage Detector enable
  159 00000000         ;//     <i> Default: Enabled 
  160 00000000         ;//                     <0=> Enabled   
  161 00000000         ;//                     <1=> Disabled
  162 00000000         ;//   <o6.4> BUSCFG: Flash bus clock configuration
  163 00000000         ;//     <i> Used for configuration of bus frequencies gr
                       ater than 66 MHz    
  164 00000000         ;//     <i> Default: Low frequency bus clock
  165 00000000         ;//                     <0=> Low frequency bus clock
  166 00000000         ;//                     <1=> Bus clock speed > 66 Mhz
  167 00000000         ;// </e0> End of FMI
  168 00000000 00000001 
                       FMI_SETUP
                               EQU              1
  169 00000000 00000018 
                       FMI_CR_Val
                               EQU              0x00000018
  170 00000000 00000004 
                       FMI_BBSR_Val
                               EQU              0x00000004
  171 00000000 00000000 
                       FMI_BBADR_Val
                               EQU              0x00000000
  172 00000000 00000002 
                       FMI_NBBSR_Val
                               EQU              0x00000002
  173 00000000 00080000 
                       FMI_NBBADR_Val
                               EQU              0x00080000
  174 00000000 00000C10 
                       FLASH_CFG_Val
                               EQU              0x00000C10
  175 00000000         
  176 00000000         
  177 00000000         ; System Control Unit (SCU) definitions
  178 00000000 5C002000 
                       SCU_BASE
                               EQU              0x5C002000  ; SCU Base Address 
                                                            (non-buffered)
  179 00000000 00000000 
                       SCU_CLKCNTR_OFS
                               EQU              0x00        ; Clock Control reg
                                                            ister Offset
  180 00000000 00000004 
                       SCU_PLLCONF_OFS
                               EQU              0x04        ; PLL Configuration
                                                             register Offset
  181 00000000 00000008 
                       SCU_SYSSTAT_OFS
                               EQU              0x08        ; System Status Reg
                                                            ister Offset
  182 00000000 00000014 
                       SCU_PCGR0_OFS
                               EQU              0x14        ; Peripheral Clock 
                                                            Gating Register 0 O
                                                            ffset
  183 00000000 00000018 



ARM Macro Assembler    Page 6 


                       SCU_PCGR1_OFS
                               EQU              0x18        ; Peripheral Clock 
                                                            Gating Register 1 O
                                                            ffset
  184 00000000 0000001C 
                       SCU_PRR0_OFS
                               EQU              0x1C        ; Peripheral Reset 
                                                            Register        0 O
                                                            ffset
  185 00000000 00000020 
                       SCU_PRR1_OFS
                               EQU              0x20        ; Peripheral Reset 
                                                            Register        1 O
                                                            ffset
  186 00000000 00000034 
                       SCU_SCR0_OFS
                               EQU              0x34        ; System Configurat
                                                            ion Register 0 Offs
                                                            et
  187 00000000         
  188 00000000         ; Constants
  189 00000000 00000001 
                       SYSSTAT_LOCK
                               EQU              0x01        ; PLL Lock Status
  190 00000000         
  191 00000000         ;// <e0> Clock Configuration
  192 00000000         ;//   <h> Clock Control Register Configuration (SCU_CLKC
                       NTR)
  193 00000000         ;//     <o1.17..18> EMIRATIO: External Memory Interface 
                       Ratio  
  194 00000000         ;//       <i> Default: fBCLK=HCLK/2
  195 00000000         ;//                     <0=> fBCLK=HCLK  
  196 00000000         ;//                     <1=> fBCLK=HCLK/2
  197 00000000         ;//     <o1.16> FMISEL: Flash Memory Interface Clock Div
                       ider   
  198 00000000         ;//       <i> Default: FMICLK=RCLK
  199 00000000         ;//                     <0=> FMICLK=RCLK
  200 00000000         ;//                     <1=> FMICLK=RCLK/2
  201 00000000         ;//     <o1.14> TIM23SEL: Timers 2 and 3 Clock Selection
                       
  202 00000000         ;//       <i> Default: Master Clock divided by prescaler
                        PRSC_TIM23+1
  203 00000000         ;//                     <0=> Master Clock divided by pre
                       scaler PRSC_TIM23+1
  204 00000000         ;//                     <1=> External Clock from EXTCLK_
                       T2T3 pin GPIO P2.5
  205 00000000         ;//     <o1.13> TIM01SEL: Timers 0 and 1 Clock Selection
                       
  206 00000000         ;//       <i> Default: Master Clock divided by prescaler
                        PRSC_TIM01+1
  207 00000000         ;//                     <0=> Master Clock divided by pre
                       scaler PRSC_TIM01+1
  208 00000000         ;//                     <1=> External Clock from EXTCLK_
                       T0T1 pin GPIO P2.4
  209 00000000         ;//     <o1.12> PHYSEL: MII_PHYCLK Enable
  210 00000000         ;//       <i> Default: MII_PHYCLK output disabled
  211 00000000         ;//                     <0=> MII_PHYCLK output disabled
  212 00000000         ;//                     <1=> Fosc output on MII_PHYCLK p
                       in GPIO P5.2



ARM Macro Assembler    Page 7 


  213 00000000         ;//     <o1.10..11> USBSEL: USB 48 MHz Clock Selection  
                              
  214 00000000         ;//       <i> Default: fMSTR
  215 00000000         ;//                     <0=> fMSTR
  216 00000000         ;//                     <1=> fMSTR/2
  217 00000000         ;//                     <2=> External Clock from USB_CLK
                       48M pin GPIO P2.7
  218 00000000         ;//     <o1.9> BRSEL: Baud Rate Clock Selection
  219 00000000         ;//       <i> Default: fMSTR/2
  220 00000000         ;//                     <0=> fMSTR/2
  221 00000000         ;//                     <1=> fMSTR
  222 00000000         ;//     <o1.7..8> APBDIV: PCLK Divider
  223 00000000         ;//       <i> Default: PCLK=RCLK
  224 00000000         ;//                     <0=> PCLK=RCLK
  225 00000000         ;//                     <1=> PCLK=RCLK/2    
  226 00000000         ;//                     <2=> PCLK=RCLK/4    
  227 00000000         ;//                     <3=> PCLK=RCLK/8
  228 00000000         ;//     <o1.5..6> AHBDIV: HCLK Divider 
  229 00000000         ;//       <i> Default: HCLK=RCLK
  230 00000000         ;//                     <0=> HCLK=RCLK
  231 00000000         ;//                     <1=> HCLK=RCLK/2 
  232 00000000         ;//                     <2=> HCLK=RCLK/4 
  233 00000000         ;//     <o1.2..4> RCLKDIV: RCLK Divider 
  234 00000000         ;//       <i> Default: RCLK=fMSTR
  235 00000000         ;//                     <0=> RCLK=fMSTR
  236 00000000         ;//                     <1=> RCLK=fMSTR/2
  237 00000000         ;//                     <2=> RCLK=fMSTR/4
  238 00000000         ;//                     <3=> RCLK=fMSTR/8
  239 00000000         ;//                     <4=> RCLK=fMSTR/16
  240 00000000         ;//                     <5=> RCLK=fMSTR/1024
  241 00000000         ;//     <o1.0..1> MCLKSEL: Main Clock Source
  242 00000000         ;//       <i> Default: fMSTR=fOSC
  243 00000000         ;//                     <0=> fMSTR=fPLL
  244 00000000         ;//                     <1=> fMSTR=fRTC
  245 00000000         ;//                     <2=> fMSTR=fOSC
  246 00000000         ;//   </h>
  247 00000000         ;//   <h> PLL Configuration Register Configuration (SCU_
                       PLLCONF)
  248 00000000         ;//     <i> fPLL = (2 * PLL_NDIV * fOSC) / (PLL_MDIV * (
                       2 ^ PLL_PDIV))
  249 00000000         ;//     <o2.19> PLLEN: PLL Enable
  250 00000000         ;//       <i> Default: PLL Disabled
  251 00000000         ;//                     <0=> PLL Disabled
  252 00000000         ;//                     <1=> PLL Enabled
  253 00000000         ;//     <o2.16..18> PLL_PDIV: PLL Post-divider <0-5>
  254 00000000         ;//       <i>  Default: 0
  255 00000000         ;//     <o2.8..15> PLL_NDIV: PLL Feedback divider <1-255
                       >
  256 00000000         ;//       <i>  Default: 24
  257 00000000         ;//     <o2.0..7> PLL_MDIV: PLL Pre-divider <1-255>
  258 00000000         ;//       <i>  Default: 25
  259 00000000         ;//   </h>
  260 00000000         ;//   <h> Peripheral Clock Gating Register 0 Configurati
                       on (SCU_PCGR0)
  261 00000000         ;//     <o3.11> MAC: Ethernet peripheral clock gating
  262 00000000         ;//       <i> Default: Stopped
  263 00000000         ;//     <o3.10> USB48M : USB 48 MHz clock gating
  264 00000000         ;//       <i> Default: Stopped
  265 00000000         ;//     <o3.9>  USB : USB peripheral clock gating



ARM Macro Assembler    Page 8 


  266 00000000         ;//       <i> Default: Stopped
  267 00000000         ;//     <o3.8>  DMA : DMA peripheral clock gating
  268 00000000         ;//       <i> Default: Stopped
  269 00000000         ;//     <o3.7>  EXT_MEM_CLK : External memory clock gati
                       ng
  270 00000000         ;//       <i> Default: Running
  271 00000000         ;//     <o3.6>  EMI : EMI peripheral clock gating
  272 00000000         ;//       <i> Default: Running
  273 00000000         ;//     <o3.5>  VIC : VIC peripheral clock gating
  274 00000000         ;//       <i> Default: Stopped
  275 00000000         ;//     <o3.4>  SRAM_ARBITER : SRAM arbiter clock gating
                       
  276 00000000         ;//       <i> Default: Running
  277 00000000         ;//     <o3.3>  SRAM : SRAM clock gating
  278 00000000         ;//       <i> Default: Running
  279 00000000         ;//     <o3.1>  PQFBC : PQFBC clock gating
  280 00000000         ;//       <i> Default: Running
  281 00000000         ;//     <o3.0>  FMI : FMI clock gating
  282 00000000         ;//       <i> Default: Running
  283 00000000         ;//   </h>
  284 00000000         ;//   <h> Peripheral Clock Gating Register 1 Configurati
                       on (SCU_PCGR1)
  285 00000000         ;//     <o4.24> RTC: RTC clock gating
  286 00000000         ;//       <i> Default: Stopped
  287 00000000         ;//     <o4.23> GPIO9: GPIO9 Port clock gating
  288 00000000         ;//       <i> Default: Stopped
  289 00000000         ;//     <o4.22> GPIO8: GPIO8 Port clock gating
  290 00000000         ;//       <i> Default: Stopped
  291 00000000         ;//     <o4.21> GPIO7: GPIO7 Port clock gating
  292 00000000         ;//       <i> Default: Stopped
  293 00000000         ;//     <o4.20> GPIO6: GPIO6 Port clock gating
  294 00000000         ;//       <i> Default: Stopped
  295 00000000         ;//     <o4.19> GPIO5: GPIO5 Port clock gating
  296 00000000         ;//       <i> Default: Stopped
  297 00000000         ;//     <o4.18> GPIO4: GPIO4 Port clock gating
  298 00000000         ;//       <i> Default: Stopped
  299 00000000         ;//     <o4.17> GPIO3: GPIO3 Port clock gating
  300 00000000         ;//       <i> Default: Stopped
  301 00000000         ;//     <o4.16> GPIO2: GPIO2 Port clock gating
  302 00000000         ;//       <i> Default: Stopped
  303 00000000         ;//     <o4.15> GPIO1: GPIO1 Port clock gating
  304 00000000         ;//       <i> Default: Stopped
  305 00000000         ;//     <o4.14> GPIO0: GPIO0 Port clock gating
  306 00000000         ;//       <i> Default: Stopped
  307 00000000         ;//     <o4.13> WIU: WIU peripheral clock gating
  308 00000000         ;//       <i> Default: Stopped
  309 00000000         ;//     <o4.12> WDG: WDG peripheral clock gating
  310 00000000         ;//       <i> Default: Stopped
  311 00000000         ;//     <o4.11> ADC: ADC clock gating
  312 00000000         ;//       <i> Default: Stopped
  313 00000000         ;//     <o4.10> CAN: CAN clock gating
  314 00000000         ;//       <i> Default: Stopped
  315 00000000         ;//     <o4.9>  SSP1: SSP1 peripheral clock gating
  316 00000000         ;//       <i> Default: Stopped
  317 00000000         ;//     <o4.8>  SSP0: SSP0 peripheral clock gating
  318 00000000         ;//       <i> Default: Stopped
  319 00000000         ;//     <o4.7>  I2C1: I2C1 peripheral clock gating
  320 00000000         ;//       <i> Default: Stopped
  321 00000000         ;//     <o4.6>  I2C0: I2C0 peripheral clock gating



ARM Macro Assembler    Page 9 


  322 00000000         ;//       <i> Default: Stopped
  323 00000000         ;//     <o4.5>  UART2: UART2 peripheral clock gating
  324 00000000         ;//       <i> Default: Stopped
  325 00000000         ;//     <o4.4>  UART1: UART1 peripheral clock gating
  326 00000000         ;//       <i> Default: Stopped
  327 00000000         ;//     <o4.3>  UART0: UART0 peripheral clock gating
  328 00000000         ;//       <i> Default: Stopped
  329 00000000         ;//     <o4.2>  MC: Motor Control peripheral clock gatin
                       g
  330 00000000         ;//       <i> Default: Stopped
  331 00000000         ;//     <o4.1>  TIM23: Timers 2 and 3 clock gating
  332 00000000         ;//       <i> Default: Stopped
  333 00000000         ;//     <o4.0>  TIM01: Timers 0 and 1 clock gating
  334 00000000         ;//       <i> Default: Stopped
  335 00000000         ;//   </h>
  336 00000000         ;// </e1> End of Clock Configuration
  337 00000000 00000001 
                       CLOCK_SETUP
                               EQU              1
  338 00000000 00020080 
                       SCU_CLKCNTR_Val
                               EQU              0x00020080
  339 00000000 000AC019 
                       SCU_PLLCONF_Val
                               EQU              0x000AC019
  340 00000000 000000DB 
                       SCU_PCGR0_Val
                               EQU              0x000000DB
  341 00000000 00000000 
                       SCU_PCGR1_Val
                               EQU              0x00000000
  342 00000000         
  343 00000000         
  344 00000000         ;// <e0> Peripheral Reset Configuration
  345 00000000         ;//   <h> Peripheral Reset Register 0 Configuration (SCU
                       _PRR0)
  346 00000000         ;//     <o1.12>   RST_PFQBC_AHB: PFQBC AHB Reset
  347 00000000         ;//       <0=> In reset <1=> Not in reset
  348 00000000         ;//       <i> Default: Not in reset
  349 00000000         ;//     <o1.11>         RST_MAC: Ethernet peripheral res
                       et
  350 00000000         ;//       <0=> In reset <1=> Not in reset
  351 00000000         ;//       <i> Default: In reset
  352 00000000         ;//     <o1.9>          RST_USB: USB peripheral reset
  353 00000000         ;//       <0=> In reset <1=> Not in reset
  354 00000000         ;//       <i> Default: In reset
  355 00000000         ;//     <o1.8>          RST_DMA: DMA peripheral reset
  356 00000000         ;//       <0=> In reset <1=> Not in reset
  357 00000000         ;//       <i> Default: In reset
  358 00000000         ;//     <o1.6>          RST_EMI: EMI peripheral reset
  359 00000000         ;//       <0=> In reset <1=> Not in reset
  360 00000000         ;//       <i> Default: Not in reset
  361 00000000         ;//     <o1.5>          RST_VIC: VIC peripheral reset
  362 00000000         ;//       <0=> In reset <1=> Not in reset
  363 00000000         ;//       <i> Default: In reset
  364 00000000         ;//     <o1.4> RST_SRAM_ARBITER: SRAM arbiter reset
  365 00000000         ;//       <0=> In reset <1=> Not in reset
  366 00000000         ;//       <i> Default: Not in reset
  367 00000000         ;//     <o1.1>        RST_PQFBC: PQFBC reset



ARM Macro Assembler    Page 10 


  368 00000000         ;//       <0=> In reset <1=> Not in reset
  369 00000000         ;//       <i> Default: Not in reset
  370 00000000         ;//     <o1.0>          RST_FMI: FMI reset
  371 00000000         ;//       <0=> In reset <1=> Not in reset
  372 00000000         ;//       <i> Default: Not in reset
  373 00000000         ;//   </h>
  374 00000000         ;//   <h> Peripheral Reset Register 1 Configuration (SCU
                       _PRR1)
  375 00000000         ;//     <o2.24>         RST_RTC: RTC reset
  376 00000000         ;//       <0=> In reset <1=> Not in reset
  377 00000000         ;//       <i> Default: In reset
  378 00000000         ;//     <o2.23>       RST_GPIO9: GPIO9 Port reset
  379 00000000         ;//       <0=> In reset <1=> Not in reset
  380 00000000         ;//       <i> Default: In reset
  381 00000000         ;//     <o2.22>       RST_GPIO8: GPIO8 Port reset
  382 00000000         ;//       <0=> In reset <1=> Not in reset
  383 00000000         ;//       <i> Default: In reset
  384 00000000         ;//     <o2.21>       RST_GPIO7: GPIO7 Port reset
  385 00000000         ;//       <0=> In reset <1=> Not in reset
  386 00000000         ;//       <i> Default: In reset
  387 00000000         ;//     <o2.20>       RST_GPIO6: GPIO6 Port reset
  388 00000000         ;//       <0=> In reset <1=> Not in reset
  389 00000000         ;//       <i> Default: In reset
  390 00000000         ;//     <o2.19>       RST_GPIO5: GPIO5 Port reset
  391 00000000         ;//       <0=> In reset <1=> Not in reset
  392 00000000         ;//       <i> Default: In reset
  393 00000000         ;//     <o2.18>       RST_GPIO4: GPIO4 Port reset
  394 00000000         ;//       <0=> In reset <1=> Not in reset
  395 00000000         ;//       <i> Default: In reset
  396 00000000         ;//     <o2.17>       RST_GPIO3: GPIO3 Port reset
  397 00000000         ;//       <0=> In reset <1=> Not in reset
  398 00000000         ;//       <i> Default: In reset
  399 00000000         ;//     <o2.16>       RST_GPIO2: GPIO2 Port reset
  400 00000000         ;//       <0=> In reset <1=> Not in reset
  401 00000000         ;//       <i> Default: In reset
  402 00000000         ;//     <o2.15>       RST_GPIO1: GPIO1 Port reset
  403 00000000         ;//       <0=> In reset <1=> Not in reset
  404 00000000         ;//       <i> Default: In reset
  405 00000000         ;//     <o2.14>       RST_GPIO0: GPIO0 Port reset
  406 00000000         ;//       <0=> In reset <1=> Not in reset
  407 00000000         ;//       <i> Default: In reset
  408 00000000         ;//     <o2.13>         RST_WIU: WIU peripheral reset
  409 00000000         ;//       <0=> In reset <1=> Not in reset
  410 00000000         ;//       <i> Default: In reset
  411 00000000         ;//     <o2.12>         RST_WDG: WDG peripheral reset
  412 00000000         ;//       <0=> In reset <1=> Not in reset
  413 00000000         ;//       <i> Default: In reset
  414 00000000         ;//     <o2.11>         RST_ADC: ADC reset
  415 00000000         ;//       <0=> In reset <1=> Not in reset
  416 00000000         ;//       <i> Default: In reset
  417 00000000         ;//     <o2.10>         RST_CAN: CAN peripheral reset
  418 00000000         ;//       <0=> In reset <1=> Not in reset
  419 00000000         ;//       <i> Default: In reset
  420 00000000         ;//     <o2.9>         RST_SSP1: SSP1 peripheral reset
  421 00000000         ;//       <0=> In reset <1=> Not in reset
  422 00000000         ;//       <i> Default: In reset
  423 00000000         ;//     <o2.8>         RST_SSP0: SSP0 peripheral reset
  424 00000000         ;//       <0=> In reset <1=> Not in reset
  425 00000000         ;//       <i> Default: In reset



ARM Macro Assembler    Page 11 


  426 00000000         ;//     <o2.7>         RST_I2C1: I2C1 peripheral reset
  427 00000000         ;//       <0=> In reset <1=> Not in reset
  428 00000000         ;//       <i> Default: In reset
  429 00000000         ;//     <o2.6>         RST_I2C0: I2C0 peripheral reset
  430 00000000         ;//       <0=> In reset <1=> Not in reset
  431 00000000         ;//       <i> Default: In reset
  432 00000000         ;//     <o2.5>        RST_UART2: UART2 peripheral reset
  433 00000000         ;//       <0=> In reset <1=> Not in reset
  434 00000000         ;//       <i> Default: In reset
  435 00000000         ;//     <o2.4>        RST_UART1: UART1 peripheral reset
  436 00000000         ;//       <0=> In reset <1=> Not in reset
  437 00000000         ;//       <i> Default: In reset
  438 00000000         ;//     <o2.3>        RST_UART0: UART0 peripheral reset
  439 00000000         ;//       <0=> In reset <1=> Not in reset
  440 00000000         ;//       <i> Default: In reset
  441 00000000         ;//     <o2.2>           RST_MC: Motor Control periphera
                       l reset
  442 00000000         ;//       <0=> In reset <1=> Not in reset
  443 00000000         ;//       <i> Default: In reset
  444 00000000         ;//     <o2.1>        RST_TIM23: Timers 2 and 3 reset
  445 00000000         ;//       <0=> In reset <1=> Not in reset
  446 00000000         ;//       <i> Default: In reset
  447 00000000         ;//     <o2.0>        RST_TIM01: Timers 0 and 1 reset
  448 00000000         ;//       <0=> In reset <1=> Not in reset
  449 00000000         ;//       <i> Default: In reset
  450 00000000         ;//   </h>
  451 00000000         ;// </e1> End of Clock Configuration
  452 00000000 00000000 
                       P_RESET_SETUP
                               EQU              0
  453 00000000 00001053 
                       SCU_PRR0_Val
                               EQU              0x00001053
  454 00000000 00000000 
                       SCU_PRR1_Val
                               EQU              0x00000000
  455 00000000         
  456 00000000         
  457 00000000         ; APB Bridge 1 & 2 definitions (Peripherals)
  458 00000000 48001802 
                       APB0_BUF_BASE
                               EQU              0x48001802  ; APB Bridge 0 Buff
                                                            ered Base Address
  459 00000000 58000000 
                       APB0_NBUF_BASE
                               EQU              0x58000000  ; APB Bridge 0 Non-
                                                            buffered Base Addre
                                                            ss
  460 00000000 4C000000 
                       APB1_BUF_BASE
                               EQU              0x4C000000  ; APB Bridge 1 Buff
                                                            ered Base Address
  461 00000000 5C000000 
                       APB1_NBUF_BASE
                               EQU              0x5C000000  ; APB Bridge 1 Non-
                                                            buffered Base Addre
                                                            ss
  462 00000000         
  463 00000000         



ARM Macro Assembler    Page 12 


  464 00000000         ;// <e> Setup Library Exception Handlers
  465 00000000 00000001 
                       LEH_SETUP
                               EQU              1
  466 00000000         ;// </e>
  467 00000000         
  468 00000000         
  469 00000000                 PRESERVE8
  470 00000000         
  471 00000000         
  472 00000000         ; Area Definition and Entry Point
  473 00000000         ;  Startup Code must be linked first at Address at which
                        it expects to run.
  474 00000000         
  475 00000000                 AREA             Reset, CODE, READONLY
  476 00000000                 ARM
  477 00000000         
  478 00000000         ; Exception Vectors
  479 00000000         ;  Mapped to Address 0.
  480 00000000         ;  Absolute addressing mode must be used.
  481 00000000         ;  Dummy Handlers are implemented as infinite loops whic
                       h can be modified.
  482 00000000         
  483 00000000         
  484 00000000 E59FF018 
                       Vectors LDR              PC, Reset_Addr
  485 00000004 E59FF018        LDR              PC, Undef_Addr
  486 00000008 E59FF018        LDR              PC, SWI_Addr
  487 0000000C E59FF018        LDR              PC, PAbt_Addr
  488 00000010 E59FF018        LDR              PC, DAbt_Addr
  489 00000014 E1A00000        NOP                          ; Reserved Vector 
  490 00000018 E59FF018        LDR              PC, IRQ_Addr
  491 0000001C         ;                LDR     PC, [PC, #-0x0FF0]
  492 0000001C E59FF018        LDR              PC, FIQ_Addr
  493 00000020         
  494 00000020                 IF               LEH_SETUP <> 0
  495 00000020                 EXTERN           UndefHandler
  496 00000020                 EXTERN           SWIHandler
  497 00000020                 EXTERN           PAbtHandler
  498 00000020                 EXTERN           DAbtHandler
  499 00000020                 EXTERN           IRQHandler
  500 00000020                 EXTERN           FIQHandler
  501 00000020                 ENDIF
  502 00000020         
  503 00000020 00000000 
                       Reset_Addr
                               DCD              Reset_Handler
  504 00000024 00000000 
                       Undef_Addr
                               DCD              UndefHandler
  505 00000028 00000000 
                       SWI_Addr
                               DCD              SWIHandler
  506 0000002C 00000000 
                       PAbt_Addr
                               DCD              PAbtHandler
  507 00000030 00000000 
                       DAbt_Addr
                               DCD              DAbtHandler



ARM Macro Assembler    Page 13 


  508 00000034 00000000        DCD              0           ; Reserved Address 
                                                            
  509 00000038 00000000 
                       IRQ_Addr
                               DCD              IRQHandler
  510 0000003C 00000000 
                       FIQ_Addr
                               DCD              FIQHandler
  511 00000040         
  512 00000040         
  513 00000040                 IF               LEH_SETUP = 0
  522                          ENDIF
  523 00000040         
  524 00000040         
  525 00000040         ; Reset Handler
  526 00000040         
  527 00000040                 EXPORT           Reset_Handler
  528 00000040         Reset_Handler
  529 00000040         
  530 00000040 E1A00000        NOP                          ; Wait for OSC stab
                                                            ilization
  531 00000044 E1A00000        NOP
  532 00000048 E1A00000        NOP
  533 0000004C E1A00000        NOP
  534 00000050 E1A00000        NOP
  535 00000054 E1A00000        NOP
  536 00000058 E1A00000        NOP
  537 0000005C E1A00000        NOP
  538 00000060         
  539 00000060         
  540 00000060         ; Setup System Configuration (and SRAM Size)
  541 00000060                 IF               SCR0_SETUP == 1
  542 00000060         
  543 00000060 E59F0110        LDR              R0, =SCU_BASE
  544 00000064 E59F1110        LDR              R1, =SCU_SCR0_Val
  545 00000068 E5801034        STR              R1, [R0, #SCU_SCR0_OFS]
  546 0000006C         
  547 0000006C         
  548 0000006C                 ENDIF
  549 0000006C         
  550 0000006C         
  551 0000006C         ; Setup Flash Memory Interface (FMI)
  552 0000006C                 IF               FMI_SETUP == 1
  553 0000006C         
  554 0000006C E3A00315        LDR              R0, =FMI_BASE
  555 00000070 E3A01004        LDR              R1, =FMI_BBSR_Val
  556 00000074 E5801000        STR              R1, [R0, #FMI_BBSR_OFS]
  557 00000078 E3A01002        LDR              R1, =FMI_NBBSR_Val
  558 0000007C E5801004        STR              R1, [R0, #FMI_NBBSR_OFS]
  559 00000080 E3A01000        LDR              R1, =(FMI_BBADR_Val:SHR:2)
  560 00000084 E580100C        STR              R1, [R0, #FMI_BBADR_OFS]
  561 00000088 E3A01802        LDR              R1, =(FMI_NBBADR_Val:SHR:2)
  562 0000008C E5801010        STR              R1, [R0, #FMI_NBBADR_OFS]
  563 00000090 E3A02018        LDR              R2, =FMI_CR_Val
  564 00000094 E5802018        STR              R2, [R0, #FMI_CR_OFS]
  565 00000098         
  566 00000098         ; Write "Write flash configuration" command (60h)
  567 00000098 E1A00101        MOV              R0, R1, LSL #2
  568 0000009C E3A01060        MOV              R1, #0x60



ARM Macro Assembler    Page 14 


  569 000000A0 E1C010B0        STRH             R1, [R0, #0]
  570 000000A4         
  571 000000A4         ; Write "Write flash configuration confirm" command (03h
                       )
  572 000000A4 E3A02DC1        LDR              R2, =(FLASH_CFG_Val:SHL:2)
  573 000000A8 E0800002        ADD              R0, R0, R2
  574 000000AC E3A01003        MOV              R1, #0x03
  575 000000B0 E1C010B0        STRH             R1, [R0, #0]
  576 000000B4         
  577 000000B4                 ENDIF
  578 000000B4         
  579 000000B4         
  580 000000B4         ; Setup Clock
  581 000000B4                 IF               CLOCK_SETUP == 1
  582 000000B4         
  583 000000B4 E59F00BC        LDR              R0, =SCU_BASE
  584 000000B8 E59F10C0        LDR              R1, =0x00020002
  585 000000BC E5801000        STR              R1, [R0, #SCU_CLKCNTR_OFS] ; Se
                                                            lect OSC as clk src
                                                            
  586 000000C0         
  587 000000C0 E1A00000        NOP                          ; Wait for OSC stab
                                                            ilization
  588 000000C4 E1A00000        NOP
  589 000000C8 E1A00000        NOP
  590 000000CC E1A00000        NOP
  591 000000D0 E1A00000        NOP
  592 000000D4 E1A00000        NOP
  593 000000D8 E1A00000        NOP
  594 000000DC E1A00000        NOP
  595 000000E0 E1A00000        NOP
  596 000000E4 E1A00000        NOP
  597 000000E8 E1A00000        NOP
  598 000000EC E1A00000        NOP
  599 000000F0         
  600 000000F0 E59F108C        LDR              R1, =0x0003C019 
                                                            ; PLL to default
  601 000000F4 E5801004        STR              R1, [R0, #SCU_PLLCONF_OFS]
  602 000000F8 E59F1088        LDR              R1, =SCU_PLLCONF_Val ; PLL to r
                                                            equested value
  603 000000FC E5801004        STR              R1, [R0, #SCU_PLLCONF_OFS]
  604 00000100         
  605 00000100         ; Wait until PLL is stabilized (if PLL enabled)
  606 00000100                 IF               (SCU_PLLCONF_Val:AND:0x80000) !
= 0
  607 00000100 E5902008 
                       PLL_Loop
                               LDR              R2, [R0, #SCU_SYSSTAT_OFS]
  608 00000104 E2122001        ANDS             R2, R2, #SYSSTAT_LOCK
  609 00000108 0AFFFFFC        BEQ              PLL_Loop
  610 0000010C                 ENDIF
  611 0000010C         
  612 0000010C E59F1078        LDR              R1, =SCU_CLKCNTR_Val ; Setup cl
                                                            ock control
  613 00000110 E5801000        STR              R1, [R0, #SCU_CLKCNTR_OFS]
  614 00000114         
  615 00000114 E3A010DB        LDR              R1, =SCU_PCGR0_Val ; Enable clo
                                                            ck gating
  616 00000118 E5801014        STR              R1, [R0, #SCU_PCGR0_OFS]



ARM Macro Assembler    Page 15 


  617 0000011C E3A01000        LDR              R1, =SCU_PCGR1_Val
  618 00000120 E5801018        STR              R1, [R0, #SCU_PCGR1_OFS]
  619 00000124         
  620 00000124                 ENDIF
  621 00000124         
  622 00000124         
  623 00000124         ; Setup Peripheral Reset
  624 00000124                 IF               P_RESET_SETUP != 0
  629                          ENDIF
  630 00000124         
  631 00000124         
  632 00000124         ; Setup Stack for each mode
  633 00000124         
  634 00000124 E59F0064        LDR              R0, =Stack_Top
  635 00000128         
  636 00000128         ;  Enter Undefined Instruction Mode and set its Stack Po
                       inter
  637 00000128 E321F0DB        MSR              CPSR_c, #Mode_UND:OR:I_Bit:OR:F
_Bit
  638 0000012C E1A0D000        MOV              SP, R0
  639 00000130 E2400000        SUB              R0, R0, #UND_Stack_Size
  640 00000134         
  641 00000134         ;  Enter Abort Mode and set its Stack Pointer
  642 00000134 E321F0D7        MSR              CPSR_c, #Mode_ABT:OR:I_Bit:OR:F
_Bit
  643 00000138 E1A0D000        MOV              SP, R0
  644 0000013C E2400000        SUB              R0, R0, #ABT_Stack_Size
  645 00000140         
  646 00000140         ;  Enter FIQ Mode and set its Stack Pointer
  647 00000140 E321F0D1        MSR              CPSR_c, #Mode_FIQ:OR:I_Bit:OR:F
_Bit
  648 00000144 E1A0D000        MOV              SP, R0
  649 00000148 E2400000        SUB              R0, R0, #FIQ_Stack_Size
  650 0000014C         
  651 0000014C         ;  Enter IRQ Mode and set its Stack Pointer
  652 0000014C E321F0D2        MSR              CPSR_c, #Mode_IRQ:OR:I_Bit:OR:F
_Bit
  653 00000150 E1A0D000        MOV              SP, R0
  654 00000154 E2400C01        SUB              R0, R0, #IRQ_Stack_Size
  655 00000158         
  656 00000158         ;  Enter Supervisor Mode and set its Stack Pointer
  657 00000158 E321F0D3        MSR              CPSR_c, #Mode_SVC:OR:I_Bit:OR:F
_Bit
  658 0000015C E1A0D000        MOV              SP, R0
  659 00000160 E2400008        SUB              R0, R0, #SVC_Stack_Size
  660 00000164         
  661 00000164         ;  Enter User Mode and set its Stack Pointer
  662 00000164 E321F010        MSR              CPSR_c, #Mode_USR
  663 00000168 E1A0D000        MOV              SP, R0
  664 0000016C E24DAB01        SUB              SL, SP, #USR_Stack_Size
  665 00000170         
  666 00000170         
  667 00000170         ; Enter the C code
  668 00000170         
  669 00000170                 IMPORT           __main
  670 00000170 E59F001C        LDR              R0, =__main
  671 00000174 E12FFF10        BX               R0
  672 00000178         
  673 00000178         



ARM Macro Assembler    Page 16 


  674 00000178         ; User Initial Stack & Heap
  675 00000178 5C002000 
              00000191 
              00020002 
              0003C019 
              000AC019 
              00020080 
              00000000 
              00000000         AREA             |.text|, CODE, READONLY
  676 00000000         
  677 00000000                 IMPORT           __use_two_region_memory
  678 00000000                 EXPORT           __user_initial_stackheap
  679 00000000         __user_initial_stackheap
  680 00000000         
  681 00000000 E59F000C        LDR              R0, =  Heap_Mem
  682 00000004 E59F100C        LDR              R1, =(Stack_Mem + USR_Stack_Siz
e)
  683 00000008 E59F2004        LDR              R2, = (Heap_Mem +      Heap_Siz
e)
  684 0000000C E59F3008        LDR              R3, = Stack_Mem
  685 00000010 E12FFF1E        BX               LR
  686 00000014         
  687 00000014         
  688 00000014                 END
              00000000 
              00000400 
              00000000 
Command Line: --debug --xref --device=DARMST9 -o.\FLASH\STR91x.o -IC:\Keil\ARM\
INC\ST\91x --list=.\lst\STR91x.lst STR91x.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

STACK 00000000

Symbol: STACK
   Definitions
      At line 56 in file STR91x.s
   Uses
      None
Comment: STACK unused
Stack_Mem 00000000

Symbol: Stack_Mem
   Definitions
      At line 57 in file STR91x.s
   Uses
      At line 59 in file STR91x.s
      At line 682 in file STR91x.s
      At line 684 in file STR91x.s

Stack_Top 00000508

Symbol: Stack_Top
   Definitions
      At line 59 in file STR91x.s
   Uses
      At line 634 in file STR91x.s
Comment: Stack_Top used once
3 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

HEAP 00000000

Symbol: HEAP
   Definitions
      At line 68 in file STR91x.s
   Uses
      None
Comment: HEAP unused
Heap_Mem 00000000

Symbol: Heap_Mem
   Definitions
      At line 69 in file STR91x.s
   Uses
      At line 681 in file STR91x.s
      At line 683 in file STR91x.s

2 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

DAbt_Addr 00000030

Symbol: DAbt_Addr
   Definitions
      At line 507 in file STR91x.s
   Uses
      At line 488 in file STR91x.s
Comment: DAbt_Addr used once
FIQ_Addr 0000003C

Symbol: FIQ_Addr
   Definitions
      At line 510 in file STR91x.s
   Uses
      At line 492 in file STR91x.s
Comment: FIQ_Addr used once
IRQ_Addr 00000038

Symbol: IRQ_Addr
   Definitions
      At line 509 in file STR91x.s
   Uses
      At line 490 in file STR91x.s
Comment: IRQ_Addr used once
PAbt_Addr 0000002C

Symbol: PAbt_Addr
   Definitions
      At line 506 in file STR91x.s
   Uses
      At line 487 in file STR91x.s
Comment: PAbt_Addr used once
PLL_Loop 00000100

Symbol: PLL_Loop
   Definitions
      At line 607 in file STR91x.s
   Uses
      At line 609 in file STR91x.s
Comment: PLL_Loop used once
Reset 00000000

Symbol: Reset
   Definitions
      At line 475 in file STR91x.s
   Uses
      None
Comment: Reset unused
Reset_Addr 00000020

Symbol: Reset_Addr
   Definitions
      At line 503 in file STR91x.s
   Uses
      At line 484 in file STR91x.s
Comment: Reset_Addr used once
Reset_Handler 00000040

Symbol: Reset_Handler



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

   Definitions
      At line 528 in file STR91x.s
   Uses
      At line 503 in file STR91x.s
      At line 527 in file STR91x.s

SWI_Addr 00000028

Symbol: SWI_Addr
   Definitions
      At line 505 in file STR91x.s
   Uses
      At line 486 in file STR91x.s
Comment: SWI_Addr used once
Undef_Addr 00000024

Symbol: Undef_Addr
   Definitions
      At line 504 in file STR91x.s
   Uses
      At line 485 in file STR91x.s
Comment: Undef_Addr used once
Vectors 00000000

Symbol: Vectors
   Definitions
      At line 484 in file STR91x.s
   Uses
      None
Comment: Vectors unused
11 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

.text 00000000

Symbol: .text
   Definitions
      At line 675 in file STR91x.s
   Uses
      None
Comment: .text unused
__user_initial_stackheap 00000000

Symbol: __user_initial_stackheap
   Definitions
      At line 679 in file STR91x.s
   Uses
      At line 678 in file STR91x.s
Comment: __user_initial_stackheap used once
2 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

ABT_Stack_Size 00000000

Symbol: ABT_Stack_Size
   Definitions
      At line 48 in file STR91x.s
   Uses
      At line 54 in file STR91x.s
      At line 644 in file STR91x.s

APB0_BUF_BASE 48001802

Symbol: APB0_BUF_BASE
   Definitions
      At line 458 in file STR91x.s
   Uses
      None
Comment: APB0_BUF_BASE unused
APB0_NBUF_BASE 58000000

Symbol: APB0_NBUF_BASE
   Definitions
      At line 459 in file STR91x.s
   Uses
      None
Comment: APB0_NBUF_BASE unused
APB1_BUF_BASE 4C000000

Symbol: APB1_BUF_BASE
   Definitions
      At line 460 in file STR91x.s
   Uses
      None
Comment: APB1_BUF_BASE unused
APB1_NBUF_BASE 5C000000

Symbol: APB1_NBUF_BASE
   Definitions
      At line 461 in file STR91x.s
   Uses
      None
Comment: APB1_NBUF_BASE unused
CLOCK_SETUP 00000001

Symbol: CLOCK_SETUP
   Definitions
      At line 337 in file STR91x.s
   Uses
      At line 581 in file STR91x.s
Comment: CLOCK_SETUP used once
FIQ_Stack_Size 00000000

Symbol: FIQ_Stack_Size
   Definitions
      At line 49 in file STR91x.s
   Uses
      At line 54 in file STR91x.s
      At line 649 in file STR91x.s

FLASH_CFG_Val 00000C10



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Absolute symbols


Symbol: FLASH_CFG_Val
   Definitions
      At line 174 in file STR91x.s
   Uses
      At line 572 in file STR91x.s
Comment: FLASH_CFG_Val used once
FMI_BASE 54000000

Symbol: FMI_BASE
   Definitions
      At line 92 in file STR91x.s
   Uses
      At line 554 in file STR91x.s
Comment: FMI_BASE used once
FMI_BBADR_OFS 0000000C

Symbol: FMI_BBADR_OFS
   Definitions
      At line 95 in file STR91x.s
   Uses
      At line 560 in file STR91x.s
Comment: FMI_BBADR_OFS used once
FMI_BBADR_Val 00000000

Symbol: FMI_BBADR_Val
   Definitions
      At line 171 in file STR91x.s
   Uses
      At line 559 in file STR91x.s
Comment: FMI_BBADR_Val used once
FMI_BBSR_OFS 00000000

Symbol: FMI_BBSR_OFS
   Definitions
      At line 93 in file STR91x.s
   Uses
      At line 556 in file STR91x.s
Comment: FMI_BBSR_OFS used once
FMI_BBSR_Val 00000004

Symbol: FMI_BBSR_Val
   Definitions
      At line 170 in file STR91x.s
   Uses
      At line 555 in file STR91x.s
Comment: FMI_BBSR_Val used once
FMI_CR_OFS 00000018

Symbol: FMI_CR_OFS
   Definitions
      At line 97 in file STR91x.s
   Uses
      At line 564 in file STR91x.s
Comment: FMI_CR_OFS used once
FMI_CR_Val 00000018

Symbol: FMI_CR_Val
   Definitions



ARM Macro Assembler    Page 3 Alphabetic symbol ordering
Absolute symbols

      At line 169 in file STR91x.s
   Uses
      At line 563 in file STR91x.s
Comment: FMI_CR_Val used once
FMI_NBBADR_OFS 00000010

Symbol: FMI_NBBADR_OFS
   Definitions
      At line 96 in file STR91x.s
   Uses
      At line 562 in file STR91x.s
Comment: FMI_NBBADR_OFS used once
FMI_NBBADR_Val 00080000

Symbol: FMI_NBBADR_Val
   Definitions
      At line 173 in file STR91x.s
   Uses
      At line 561 in file STR91x.s
Comment: FMI_NBBADR_Val used once
FMI_NBBSR_OFS 00000004

Symbol: FMI_NBBSR_OFS
   Definitions
      At line 94 in file STR91x.s
   Uses
      At line 558 in file STR91x.s
Comment: FMI_NBBSR_OFS used once
FMI_NBBSR_Val 00000002

Symbol: FMI_NBBSR_Val
   Definitions
      At line 172 in file STR91x.s
   Uses
      At line 557 in file STR91x.s
Comment: FMI_NBBSR_Val used once
FMI_SETUP 00000001

Symbol: FMI_SETUP
   Definitions
      At line 168 in file STR91x.s
   Uses
      At line 552 in file STR91x.s
Comment: FMI_SETUP used once
F_Bit 00000040

Symbol: F_Bit
   Definitions
      At line 34 in file STR91x.s
   Uses
      At line 637 in file STR91x.s
      At line 642 in file STR91x.s
      At line 647 in file STR91x.s
      At line 652 in file STR91x.s
      At line 657 in file STR91x.s

Heap_Size 00000000

Symbol: Heap_Size



ARM Macro Assembler    Page 4 Alphabetic symbol ordering
Absolute symbols

   Definitions
      At line 66 in file STR91x.s
   Uses
      At line 69 in file STR91x.s
      At line 683 in file STR91x.s

IRQ_Stack_Size 00000100

Symbol: IRQ_Stack_Size
   Definitions
      At line 50 in file STR91x.s
   Uses
      At line 54 in file STR91x.s
      At line 654 in file STR91x.s

I_Bit 00000080

Symbol: I_Bit
   Definitions
      At line 33 in file STR91x.s
   Uses
      At line 637 in file STR91x.s
      At line 642 in file STR91x.s
      At line 647 in file STR91x.s
      At line 652 in file STR91x.s
      At line 657 in file STR91x.s

LEH_SETUP 00000001

Symbol: LEH_SETUP
   Definitions
      At line 465 in file STR91x.s
   Uses
      At line 494 in file STR91x.s
      At line 513 in file STR91x.s

Mode_ABT 00000017

Symbol: Mode_ABT
   Definitions
      At line 29 in file STR91x.s
   Uses
      At line 642 in file STR91x.s
Comment: Mode_ABT used once
Mode_FIQ 00000011

Symbol: Mode_FIQ
   Definitions
      At line 26 in file STR91x.s
   Uses
      At line 647 in file STR91x.s
Comment: Mode_FIQ used once
Mode_IRQ 00000012

Symbol: Mode_IRQ
   Definitions
      At line 27 in file STR91x.s
   Uses
      At line 652 in file STR91x.s



ARM Macro Assembler    Page 5 Alphabetic symbol ordering
Absolute symbols

Comment: Mode_IRQ used once
Mode_SVC 00000013

Symbol: Mode_SVC
   Definitions
      At line 28 in file STR91x.s
   Uses
      At line 657 in file STR91x.s
Comment: Mode_SVC used once
Mode_SYS 0000001F

Symbol: Mode_SYS
   Definitions
      At line 31 in file STR91x.s
   Uses
      None
Comment: Mode_SYS unused
Mode_UND 0000001B

Symbol: Mode_UND
   Definitions
      At line 30 in file STR91x.s
   Uses
      At line 637 in file STR91x.s
Comment: Mode_UND used once
Mode_USR 00000010

Symbol: Mode_USR
   Definitions
      At line 25 in file STR91x.s
   Uses
      At line 662 in file STR91x.s
Comment: Mode_USR used once
P_RESET_SETUP 00000000

Symbol: P_RESET_SETUP
   Definitions
      At line 452 in file STR91x.s
   Uses
      At line 624 in file STR91x.s
Comment: P_RESET_SETUP used once
SCR0_SETUP 00000001

Symbol: SCR0_SETUP
   Definitions
      At line 87 in file STR91x.s
   Uses
      At line 541 in file STR91x.s
Comment: SCR0_SETUP used once
SCU_BASE 5C002000

Symbol: SCU_BASE
   Definitions
      At line 178 in file STR91x.s
   Uses
      At line 543 in file STR91x.s
      At line 583 in file STR91x.s

SCU_CLKCNTR_OFS 00000000



ARM Macro Assembler    Page 6 Alphabetic symbol ordering
Absolute symbols


Symbol: SCU_CLKCNTR_OFS
   Definitions
      At line 179 in file STR91x.s
   Uses
      At line 585 in file STR91x.s
      At line 613 in file STR91x.s

SCU_CLKCNTR_Val 00020080

Symbol: SCU_CLKCNTR_Val
   Definitions
      At line 338 in file STR91x.s
   Uses
      At line 612 in file STR91x.s
Comment: SCU_CLKCNTR_Val used once
SCU_PCGR0_OFS 00000014

Symbol: SCU_PCGR0_OFS
   Definitions
      At line 182 in file STR91x.s
   Uses
      At line 616 in file STR91x.s
Comment: SCU_PCGR0_OFS used once
SCU_PCGR0_Val 000000DB

Symbol: SCU_PCGR0_Val
   Definitions
      At line 340 in file STR91x.s
   Uses
      At line 615 in file STR91x.s
Comment: SCU_PCGR0_Val used once
SCU_PCGR1_OFS 00000018

Symbol: SCU_PCGR1_OFS
   Definitions
      At line 183 in file STR91x.s
   Uses
      At line 618 in file STR91x.s
Comment: SCU_PCGR1_OFS used once
SCU_PCGR1_Val 00000000

Symbol: SCU_PCGR1_Val
   Definitions
      At line 341 in file STR91x.s
   Uses
      At line 617 in file STR91x.s
Comment: SCU_PCGR1_Val used once
SCU_PLLCONF_OFS 00000004

Symbol: SCU_PLLCONF_OFS
   Definitions
      At line 180 in file STR91x.s
   Uses
      At line 601 in file STR91x.s
      At line 603 in file STR91x.s

SCU_PLLCONF_Val 000AC019




ARM Macro Assembler    Page 7 Alphabetic symbol ordering
Absolute symbols

Symbol: SCU_PLLCONF_Val
   Definitions
      At line 339 in file STR91x.s
   Uses
      At line 602 in file STR91x.s
      At line 606 in file STR91x.s

SCU_PRR0_OFS 0000001C

Symbol: SCU_PRR0_OFS
   Definitions
      At line 184 in file STR91x.s
   Uses
      None
Comment: SCU_PRR0_OFS unused
SCU_PRR0_Val 00001053

Symbol: SCU_PRR0_Val
   Definitions
      At line 453 in file STR91x.s
   Uses
      None
Comment: SCU_PRR0_Val unused
SCU_PRR1_OFS 00000020

Symbol: SCU_PRR1_OFS
   Definitions
      At line 185 in file STR91x.s
   Uses
      None
Comment: SCU_PRR1_OFS unused
SCU_PRR1_Val 00000000

Symbol: SCU_PRR1_Val
   Definitions
      At line 454 in file STR91x.s
   Uses
      None
Comment: SCU_PRR1_Val unused
SCU_SCR0_OFS 00000034

Symbol: SCU_SCR0_OFS
   Definitions
      At line 186 in file STR91x.s
   Uses
      At line 545 in file STR91x.s
Comment: SCU_SCR0_OFS used once
SCU_SCR0_Val 00000191

Symbol: SCU_SCR0_Val
   Definitions
      At line 88 in file STR91x.s
   Uses
      At line 544 in file STR91x.s
Comment: SCU_SCR0_Val used once
SCU_SYSSTAT_OFS 00000008

Symbol: SCU_SYSSTAT_OFS
   Definitions



ARM Macro Assembler    Page 8 Alphabetic symbol ordering
Absolute symbols

      At line 181 in file STR91x.s
   Uses
      At line 607 in file STR91x.s
Comment: SCU_SYSSTAT_OFS used once
SVC_Stack_Size 00000008

Symbol: SVC_Stack_Size
   Definitions
      At line 47 in file STR91x.s
   Uses
      At line 54 in file STR91x.s
      At line 659 in file STR91x.s

SYSSTAT_LOCK 00000001

Symbol: SYSSTAT_LOCK
   Definitions
      At line 189 in file STR91x.s
   Uses
      At line 608 in file STR91x.s
Comment: SYSSTAT_LOCK used once
Stack_Size 00000508

Symbol: Stack_Size
   Definitions
      At line 54 in file STR91x.s
   Uses
      At line 57 in file STR91x.s
      At line 59 in file STR91x.s

UND_Stack_Size 00000000

Symbol: UND_Stack_Size
   Definitions
      At line 46 in file STR91x.s
   Uses
      At line 54 in file STR91x.s
      At line 639 in file STR91x.s

USR_Stack_Size 00000400

Symbol: USR_Stack_Size
   Definitions
      At line 51 in file STR91x.s
   Uses
      At line 54 in file STR91x.s
      At line 664 in file STR91x.s
      At line 682 in file STR91x.s

55 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

DAbtHandler 00000000

Symbol: DAbtHandler
   Definitions
      At line 498 in file STR91x.s
   Uses
      At line 507 in file STR91x.s
Comment: DAbtHandler used once
FIQHandler 00000000

Symbol: FIQHandler
   Definitions
      At line 500 in file STR91x.s
   Uses
      At line 510 in file STR91x.s
Comment: FIQHandler used once
IRQHandler 00000000

Symbol: IRQHandler
   Definitions
      At line 499 in file STR91x.s
   Uses
      At line 509 in file STR91x.s
Comment: IRQHandler used once
PAbtHandler 00000000

Symbol: PAbtHandler
   Definitions
      At line 497 in file STR91x.s
   Uses
      At line 506 in file STR91x.s
Comment: PAbtHandler used once
SWIHandler 00000000

Symbol: SWIHandler
   Definitions
      At line 496 in file STR91x.s
   Uses
      At line 505 in file STR91x.s
Comment: SWIHandler used once
UndefHandler 00000000

Symbol: UndefHandler
   Definitions
      At line 495 in file STR91x.s
   Uses
      At line 504 in file STR91x.s
Comment: UndefHandler used once
__main 00000000

Symbol: __main
   Definitions
      At line 669 in file STR91x.s
   Uses
      At line 670 in file STR91x.s
Comment: __main used once
__use_two_region_memory 00000000

Symbol: __use_two_region_memory



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
External symbols

   Definitions
      At line 677 in file STR91x.s
   Uses
      None
Comment: __use_two_region_memory unused
8 symbols
400 symbols in table
